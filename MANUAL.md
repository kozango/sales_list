# Slackバックアップシステム ご利用マニュアル

このマニュアルは、Slackメッセージのバックアップシステムの運用方法について説明します。

## 1. ご利用開始までの流れ（初回導入時）

貴社専用のバックアップシステムをセットアップするための手順です。

### 1.1. GitHubアカウントのご準備

バックアップデータは、安全なGitHubのプライベートリポジトリで管理します。まず、GitHubのアカウントをご準備ください。

1.  **アカウント作成**:
    *   まだアカウントをお持ちでない場合は、[GitHub公式サイト](https://github.com/join) から無料で作成できます。
2.  **アカウント名のご連絡**:
    *   作成したGitHubのアカウント名を、弊社担当者（またはCascade）までお知らせください。

ご連絡いただき次第、弊社で貴社専用のバックアップリポジトリを作成し、お知らせいただいたGitHubアカウントにアクセス権限を付与します。

### 1.2. Slack Botの準備

バックアップには専用のSlack Botが必要です。弊社担当者が作成を代行し、必要なトークン情報を安全に設定します。お客様側での作業は不要です。

## 2. バックアップ対象チャンネルの選定・管理

バックアップするチャンネルは `channels.csv` ファイルで管理します。

### 2.1. パブリックチャンネルの選定

1.  リポジトリ内にある `channels.csv` ファイルを開きます。
2.  貴社ワークスペースのパブリックチャンネルが一覧表示されています。
3.  バックアップしたいチャンネルの行で、`false` となっている部分を `true` に書き換えてください。
4.  編集が終わったら、ページ下部の `Commit changes` ボタンを押して変更を保存します。

### 2.2. プライベートチャンネルの選定

1.  **Botをチャンネルに招待する**:
    *   バックアップしたい全てのプライベートチャンネルで、`/invite @[Bot名]` コマンドを実行してBotを招待してください。
    *   **重要**: Botが招待されていないプライベートチャンネルは、バックアップ対象に設定できません。
2.  **チャンネルリストの更新依頼**:
    *   Botの招待が完了したら、弊社担当者（またはCascade）にご連絡ください。こちらでチャンネルリストを更新します。
3.  **バックアップを有効にする**:
    *   更新された `channels.csv` で、対象のプライベートチャンネルの `backup_enabled` を `true` に変更し、保存してください。

## 3. バックアップされたデータの見方

バックアップされたメッセージは、GitHubリポジトリ内の `archives` フォルダに保存されています。

1.  **フォルダ構造**:
    *   データは `archives` > `[チャンネルID]` > `[年]` > `[月]` の階層で整理されています。
    *   ファイル名は `[チャンネルID]_[年]-[月]-[日].tsv` となっています。
2.  **データの確認**:
    *   GitHub上でファイルをクリックすると、その日のメッセージ内容をテキスト形式で確認できます。
    *   TSVファイルは、ExcelやGoogleスプレッドシートなどの表計算ソフトで開くと、より見やすく表示できます。その際は、区切り文字として「タブ」を指定してください。
